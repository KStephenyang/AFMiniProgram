# 体脂机器人微信小程序接口文档

### 1. 用户信息
#### **1\.1 获取用户信息** 
##### restful
> GET
##### url
> /user/baseinfo
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |无|无|无|无 | 
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |
> |nickName|string | 昵称 |
> |gender|string | 性别 |
> |city|string | 所在城市 |
> |province|string | 所在省份 |
> |country|string | 国家 |
> |avatarUrl|string | 头像地址 |
> |signature|string | 签名/用户id |


##### 接口示例 
> 地址：http://192.168.1.1/user/baseinfo
 
``` javascript 
{
    "errorCode": 0,
    "msg": {
        "nickName": "alexliu",
        "gender": 1,
        "language": "zh_CN",
        "city": "Zhabei",
        "province": "Shanghai",
        "country": "China",
        "avatarUrl": "https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJXfetATHc4Oxnd0Tn8ncnFvkXluKAub1HHINWPZ0147Z2VNeR19G7dKCS13dzrLiaeWmtfBRyd8yg/132"
        "signature"："6ded4d548ec19c7b4330a325acbf36859f4f3ef4"
        }
}
```
#### **1\.2 提交用户信息** 
##### restful
> POST
##### url
> /user/baseinfo
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |nickName|string | 昵称 |
> |gender|string | 性别 |
> |city|string | 所在城市 |
> |province|string | 所在省份 |
> |country|string | 国家 |
> |avatarUrl|string | 头像地址 |
> |signature|string | 签名/用户id |
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |

##### 接口示例 
> 地址：http://192.168.1.1/user/baseinfo
 
``` javascript
 //提交数据
{
    "nickName": "alexliu",
    "gender": 1,
    "language": "zh_CN",
    "city": "Zhabei",
    "province": "Shanghai",
    "country": "China",
    "avatarUrl": "https://wx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJXfetATHc4Oxnd0Tn8ncnFvkXluKAub1HHINWPZ0147Z2VNeR19G7dKCS13dzrLiaeWmtfBRyd8yg/132"
    "signature"："6ded4d548ec19c7b4330a325acbf36859f4f3ef4"
}

//返回数据
{
    "errorCode": 0,
    "msg": "ok"
}
```
#### **1\.3 获取用户交互数据** 
##### restful
> GET
##### url
> /user/interact
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |无|无|无|无 | 
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |
> |updateCnt|int | 用户动态数 | 
> |concernCnt|int | 用户关注数 |
> |fansCnt|int | 用户粉丝数 | 
> |noteCnt|int | 用户提醒数 | 
> |level|int | 等级 | 
> |levelPercent|int | 等级百分比 | 
> |medalsNum|int | 奖章数量 | 

##### 接口示例 
> 地址：http://192.168.1.1/user/interact
 
``` javascript 
{
    "errorCode": 0,
    "msg": {
        "updateCnt": 0,
        "concernCnt": 0,
        "fansCnt": 0,
        "noteCnt": 0,
        "level":0,
        "levelPercent":20,
        "medalsNum":0,
    }
}
```

#### **1\.4 获取用户身高和体重数据** 
##### restful
> GET
##### url
> /user/heightweight
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |无|无|无|无 | 
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |
> |height|float | 身高cm | 
> |weight|float | 体重kg |
> |historyHeight|array |最近的20条身高历史纪录 [时间戳, 身高]| 
> |historyWeight|array |最近的20条体重历史纪录 [时间戳, 体重]| 

##### 接口示例 
> 地址：http://192.168.1.1/user/heightweight
 
``` javascript 
{
    "errorCode": 0,
    "msg": {
        "height": 0,
        "weight": 0,
        "historyHeight": [
            [1546769351, 165.2],
            [1546749151, 164.5],
            [1546739151, 164.0]
        ],
        "historyWeight":[
            [1546769351, 63],
            [1546749151, 62],
            [1546739151, 63.5]
        ]
    }
}
```

#### **1\.5 获取用户目标体重数据** 
##### restful
> GET
##### url
> /user/goals
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |无|无|无|无 | 
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |
> |goal|float | 目标体重kg | 
> |current|float | 目前体重kg |
> |goalDays|int |目标日期 时间戳| 

##### 接口示例 
> 地址：http://192.168.1.1/user/goals
 
``` javascript 
{
    "errorCode": 0,
    "msg": {
        "goal": 60.0,
        "current": 65.2,
        "goalDays":1549448263
    }
}
```
#### **1\.6 设定用户目标体重数据** 
##### restful
> POST
##### url
> /user/goals
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |goal|float | 目标体重kg | 
> |current|float | 目前体重kg |
> |goalDays|int |目标日期 时间戳| 
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |

##### 接口示例 
> 地址：http://192.168.1.1/user/goals
 
``` javascript 
//提交数据
{
    "goal": 60.0,
    "current": 65.2,
    "goalDays":1549448263
}

//返回数据
{
    "errorCode": 0,
    "msg": "ok"
}
```

#### **1\.8 获取用户设备数据** 
暂无

#### **1\.9 获取收藏页面数据** 
暂无


### 2. 健康信息
#### **2\.1 获取身体指数数据** 
##### restful
> GET
##### url
> /health/score
##### 支持格式
> JSON
##### 请求参数
> |参数|必选|类型|说明| 
> |:----- |:-------|:-----|----- | 
> |score|float | 目标体重kg | 
> |bodyfat|float | 目前体重kg |
> |muscle|float |目标日期 时间戳| 
> |waterPercent|float |目标日期 时间戳| 
##### 返回字段
> |字段|字段类型|说明 | 
> |:----- |:------|:-- |
> |errorCode |int |返回结果状态| 
> |msg |object | 返回信息 |

##### 接口示例 
> 地址：http://192.168.1.1/health/score
 
``` javascript 
//提交数据
{
    "score": 100.0,
    "bodyfat": 16.2,
    "muscle":93.1,
    "waterPercent":57.2
}

//返回数据
{
    "errorCode": 0,
    "msg": "ok"
}
```